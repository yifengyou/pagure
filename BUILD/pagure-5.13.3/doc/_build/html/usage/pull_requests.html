


<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pull Requests &#8212; pagure  documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/site.css" type="text/css" />
    <link rel="stylesheet" href="../_static/site.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>

    
    
     
        <script src="../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../_static/cloud.base.js"></script>
    

    
     
        <script src="../_static/cloud.js"></script>
    

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Using Markdown in Pagure" href="markdown.html" />
    <link rel="prev" title="HTTP PUSH" href="http_push.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="markdown.html" title="Using Markdown in Pagure"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="http_push.html" title="HTTP PUSH"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">pagure  documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Usage</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Pull Requests</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pull-requests">
<span id="id1"></span><h1>Pull Requests<a class="headerlink" href="#pull-requests" title="Permalink to this headline">¶</a></h1>
<p>Pagure uses the concept of pull requests to contribute changes from your fork
of a project back to the upstream project. To contribute a change to a project
you first open a pull request with original project. The project maintainer
then merges the pull request if they are satisfied with the changes you have
proposed.</p>
<div class="section" id="open-a-pull-request">
<span id="open-pull-request"></span><h2>Open a Pull Request<a class="headerlink" href="#open-a-pull-request" title="Permalink to this headline">¶</a></h2>
<p>Before you can open a pull request, you need to complete the <a class="reference internal" href="first_steps.html#first-steps"><span class="std std-ref">First Steps on pagure</span></a>
and <a class="reference internal" href="forks.html#create-fork"><span class="std std-ref">Create a Fork on Pagure</span></a> of the project you would like to contribute to. Once
you have a fork and you have pushed a <a class="reference external" href="https://git-scm.com/docs/git-branch">git branch</a>
containing one or more <a class="reference external" href="https://git-scm.com/docs/git-commit">commits</a>, you are
ready to contribute to the project.</p>
<div class="section" id="pagure-to-pagure-pull-request">
<h3>Pagure to Pagure pull request<a class="headerlink" href="#pagure-to-pagure-pull-request" title="Permalink to this headline">¶</a></h3>
<p>You can create a pull request from a pagure project, using one of the following options</p>
<div class="section" id="from-the-project-overview">
<h4>From the project overview<a class="headerlink" href="#from-the-project-overview" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><p>Go the the <code class="docutils literal notranslate"><span class="pre">overview</span></code> tab of your fork.</p></li>
<li><p>Locate your feature branch (Right hand side), and press the button <code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">PR</span></code> button.</p></li>
<li><p>Fill the Create a pull request form (Title and Description) and create your pull request.</p></li>
</ol>
<p>Notes: The <code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">PR</span></code> button appears only if there are commits not available in the main branch.</p>
<a class="reference external image-reference" href="../_images/pagure_pr_overview.png"><img alt="../_images/pagure_pr_overview.png" src="../_images/pagure_pr_overview.png" /></a>
</div>
<div class="section" id="from-the-commits-history">
<h4>From the commits history<a class="headerlink" href="#from-the-commits-history" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><p>Go to the <code class="docutils literal notranslate"><span class="pre">commit</span></code> tab of your fork and select your feature branch.</p></li>
<li><p>Press the <code class="docutils literal notranslate"><span class="pre">create</span> <span class="pre">pull</span> <span class="pre">request</span></code> button (above the latest commits).</p></li>
<li><p>Fill the Create a pull request form (Title and Description) and create your pull request.</p></li>
</ol>
<a class="reference external image-reference" href="../_images/pagure_pr_commits.png"><img alt="../_images/pagure_pr_commits.png" src="../_images/pagure_pr_commits.png" /></a>
</div>
<div class="section" id="from-the-pull-requests-list">
<h4>From the pull requests list<a class="headerlink" href="#from-the-pull-requests-list" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><p>Go to the main project’s (not your fork) pull requests list and press the <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">Pull</span> <span class="pre">Request</span></code> button.</p></li>
<li><p>Select the feature branch containing your changes from the dropdown menu.</p></li>
<li><p>Fill the Create a pull request form (Title and Description) and create your pull request.</p></li>
</ol>
<a class="reference external image-reference" href="../_images/pagure_pr_pull_requests.png"><img alt="../_images/pagure_pr_pull_requests.png" src="../_images/pagure_pr_pull_requests.png" /></a>
</div>
</div>
<div class="section" id="remote-git-to-pagure-pull-request">
<h3>Remote Git to Pagure pull request<a class="headerlink" href="#remote-git-to-pagure-pull-request" title="Permalink to this headline">¶</a></h3>
<p>You can create a pull request from another git hosting platform (e.g. GitHub, GitLab).
This is a remote pull request.</p>
<div class="section" id="id2">
<h4>From the pull requests list<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><p>Go to the main project’s (not your fork) pull requests list and press the <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">Pull</span> <span class="pre">Request</span></code> button.</p></li>
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">Remote</span> <span class="pre">pull-request</span></code> option from the dropdown menu.</p></li>
<li><p>Fill the New remote pull-request form (Title, Git repo address and Git branch) and create your remote pull request.</p></li>
</ol>
<p>Congratulations! It is now up to the project maintainer to accept your changes
by merging them.</p>
</div>
</div>
</div>
<div class="section" id="updating-your-pull-request">
<span id="update-pull-request"></span><h2>Updating Your Pull Request<a class="headerlink" href="#updating-your-pull-request" title="Permalink to this headline">¶</a></h2>
<p>It is likely that project maintainers will request changes to your proposed code
by commenting on your pull request. Don’t be discouraged! This is an opportunity
to improve your contribution and for both reviewer and reviewee to become better
programmers.</p>
<p>Adding to your pull request is as simple as pushing new commits to the branch you
used to create the pull request. These will automatically be displayed in the
commit list for the pull request.</p>
<div class="section" id="rebasing">
<h3>Rebasing<a class="headerlink" href="#rebasing" title="Permalink to this headline">¶</a></h3>
<p>You may encounter a situation where you want to include changes from the master
branch that were made after you created your pull request. You can do this by
<a class="reference external" href="https://git-scm.com/docs/git-rebase">rebasing</a> your pull request branch and
pushing it to your remote fork.</p>
</div>
</div>
<div class="section" id="working-with-pull-requests">
<span id="working-with-prs"></span><h2>Working with Pull Requests<a class="headerlink" href="#working-with-pull-requests" title="Permalink to this headline">¶</a></h2>
<p>It’s quite common to work with a pull request locally, either to build on top of
it or to test it. You can do this easily using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code> to download the
pull request followed by <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">checkout</span></code> to work with it as you would any
local branch.  The syntax for <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">fetch</span></code> is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>git fetch $REMOTE pull/$PR_NUMBER/head:$BRANCHNAME
</pre></div>
</div>
<p>For example, if you have PR#1 which “adds support for foo” you might run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">origin</span> <span class="n">pull</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">head</span><span class="p">:</span><span class="n">add</span><span class="o">-</span><span class="n">foo</span><span class="o">-</span><span class="n">support</span>
</pre></div>
</div>
<p>Then you can work with the <code class="docutils literal notranslate"><span class="pre">add-foo-support</span></code> normally:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">add</span><span class="o">-</span><span class="n">foo</span><span class="o">-</span><span class="n">support</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You may use <code class="docutils literal notranslate"><span class="pre">/</span></code> characters in your branch name if you want to group
your pull requests by the submitter name, bug number, etc.  For
example, you could name your local branch <code class="docutils literal notranslate"><span class="pre">user/add-foo-support</span></code>.</p>
</div>
<p>If you want to allow working with all of your pull requests locally, you can do
so by editing your git configuration as follows.
Locate your remote in the <code class="docutils literal notranslate"><span class="pre">.git/config</span></code> file, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">remote</span> <span class="s2">&quot;origin&quot;</span><span class="p">]</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">ssh</span><span class="p">:</span><span class="o">//</span><span class="n">git</span><span class="nd">@pagure</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">pagure</span><span class="o">.</span><span class="n">git</span>
    <span class="n">fetch</span> <span class="o">=</span> <span class="o">+</span><span class="n">refs</span><span class="o">/</span><span class="n">heads</span><span class="o">/*</span><span class="p">:</span><span class="n">refs</span><span class="o">/</span><span class="n">remotes</span><span class="o">/</span><span class="n">origin</span><span class="o">/*</span>
</pre></div>
</div>
<p>Now add this line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fetch</span> <span class="o">=</span> <span class="o">+</span><span class="n">refs</span><span class="o">/</span><span class="n">pull</span><span class="o">/*/</span><span class="n">head</span><span class="p">:</span><span class="n">refs</span><span class="o">/</span><span class="n">remotes</span><span class="o">/</span><span class="n">origin</span><span class="o">/</span><span class="n">pr</span><span class="o">/*</span>
</pre></div>
</div>
<p>to that section as <strong>the first fetch line</strong>, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">remote</span> <span class="s2">&quot;origin&quot;</span><span class="p">]</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">ssh</span><span class="p">:</span><span class="o">//</span><span class="n">git</span><span class="nd">@pagure</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">pagure</span><span class="o">.</span><span class="n">git</span>
    <span class="n">fetch</span> <span class="o">=</span> <span class="o">+</span><span class="n">refs</span><span class="o">/</span><span class="n">pull</span><span class="o">/*/</span><span class="n">head</span><span class="p">:</span><span class="n">refs</span><span class="o">/</span><span class="n">remotes</span><span class="o">/</span><span class="n">origin</span><span class="o">/</span><span class="n">pr</span><span class="o">/*</span>
    <span class="n">fetch</span> <span class="o">=</span> <span class="o">+</span><span class="n">refs</span><span class="o">/</span><span class="n">heads</span><span class="o">/*</span><span class="p">:</span><span class="n">refs</span><span class="o">/</span><span class="n">remotes</span><span class="o">/</span><span class="n">origin</span><span class="o">/*</span>
</pre></div>
</div>
<p>Obviously, the remote URL should be matching the URL of your project (pagure project in
this example).</p>
<p>Now you can fetch the all the pull requests:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git fetch origin
From ssh://pagure.io/pagure
* [new ref]        refs/pull/2541/head -&gt; origin/pr/2541
* [new ref]        refs/pull/2540/head -&gt; origin/pr/2540
* [new ref]        refs/pull/2538/head -&gt; origin/pr/2538
</pre></div>
</div>
<p>To checkout a particular pull request:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ git checkout pr/25413
Branch pr/2541 set up to track remote branch pr/2541 from origin.
Switched to a new branch &#39;pr/2541&#39;
</pre></div>
</div>
<p>You will now be able to use this branch to work from or on this pull requests.</p>
<p>If you are only interested in one particular pull request and do not want to fetch all the project PRs,
you can add to your <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> the following function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>function pullpr {
    remote=&quot;${2:-origin}&quot;
    git fetch $remote pull/$1/head:pr_$1
    git checkout pr_$1
}
</pre></div>
</div>
<p>Then after sourcing your <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> or restarting your shell, you can use the
pullpr function to checkout a pull request from within the clone of the git repository.
For example checkout pull request number 58 from current git clone (here the
infra-docs project)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ source ~/.bashrc
$ pullpr 58
remote: Counting objects: 393, done.
remote: Compressing objects: 100% (238/238), done.
remote: Total 365 (delta 231), reused 255 (delta 127)
Receiving objects: 100% (365/365), 71.36 KiB | 63.00 KiB/s, done.
Resolving deltas: 100% (231/231), completed with 20 local objects.
From ssh://pagure.io/infra-docs
* [new ref]         refs/pull/58/head -&gt; pr_58
Switched to branch &#39;pr_58&#39;
</pre></div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h1 class='pagure-logo'><span></span>Pagure</h1><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="../index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Pull Requests</a><ul>
<li><a class="reference internal" href="#open-a-pull-request">Open a Pull Request</a><ul>
<li><a class="reference internal" href="#pagure-to-pagure-pull-request">Pagure to Pagure pull request</a><ul>
<li><a class="reference internal" href="#from-the-project-overview">From the project overview</a></li>
<li><a class="reference internal" href="#from-the-commits-history">From the commits history</a></li>
<li><a class="reference internal" href="#from-the-pull-requests-list">From the pull requests list</a></li>
</ul>
</li>
<li><a class="reference internal" href="#remote-git-to-pagure-pull-request">Remote Git to Pagure pull request</a><ul>
<li><a class="reference internal" href="#id2">From the pull requests list</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#updating-your-pull-request">Updating Your Pull Request</a><ul>
<li><a class="reference internal" href="#rebasing">Rebasing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#working-with-pull-requests">Working with Pull Requests</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="http_push.html"
                          title="Previous page">&larr; HTTP PUSH</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="markdown.html"
                          title="Next page">&rarr; Using Markdown in Pagure</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/usage/pull_requests.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="markdown.html" title="Using Markdown in Pagure"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="http_push.html" title="HTTP PUSH"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../index.html">pagure  documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="index.html" >Usage</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Pull Requests</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Red Hat Inc, Pierre-Yves Chibon &lt;pingou@pingoured.fr&gt;.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.4.3.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>